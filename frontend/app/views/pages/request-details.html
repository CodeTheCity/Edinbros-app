<style type="text/css">
    .tweetbutton {
        inherit: none;
        height: 16px;
        display: inline-block;
        border-radius: 3px;
        -moz-border-radius: 3px;
        -webkit-border-radius: 3px;
        /* gradient background -- thanks http://ie.microsoft.com/testdrive/graphics/cssgradientbackgroundmaker/ */
        background: url('https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png') no-repeat 2px 1px, -ms-linear-gradient(top, #FEFEFE 0%, #DFDFDF 100%);
        background: url('https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png') no-repeat 2px 1px, -moz-linear-gradient(top, #FEFEFE 0%, #DFDFDF 100%);
        background: url('https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png') no-repeat 2px 1px, -o-linear-gradient(top, #FEFEFE 0%, #DFDFDF 100%);
        background: url('https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png') no-repeat 2px 1px, -webkit-gradient(linear, left top, left bottom, color-stop(0, #FEFEFE), color-stop(1, #DFDFDF));
        background: url('https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png') no-repeat 2px 1px, -webkit-linear-gradient(top, #FEFEFE 0%, #DFDFDF 100%);

        border: 1px solid #cccccc;
        padding-left: 22px;
        padding-right: 4px;
        padding-top: 2px;

        font-weight: bold;
        font-size: 0.7em;
        font-family: Arial;

        color: #333333;
        text-decoration: none;
    }

    .tweetbutton:hover {
        background: url('https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png') no-repeat 2px 1px, -ms-linear-gradient(top, #f7f7f7 0%, #d9d9d9 100%);
        background: url('https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png') no-repeat 2px 1px, -moz-linear-gradient(top, #f7f7f7 0%, #d9d9d9 100%);
        background: url('https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png') no-repeat 2px 1px, -o-linear-gradient(top, #f7f7f7 0%, #d9d9d9 100%);
        background: url('https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png') no-repeat 2px 1px, -webkit-gradient(linear, left top, left bottom, color-stop(0, #f7f7f7), color-stop(1, #d9d9d9));
        background: url('https://si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png') no-repeat 2px 1px, -webkit-linear-gradient(top, #f7f7f7 0%, #d9d9d9 100%);
    }
</style>
<div layout="row">
    <div flex="20">
        <div ng-if="!user.image"><img ng-src="http://placehold.it/150x150"></div>
        <div ng-if="user.image"><img ng-src="user.image"></div>
        <p><b><a ui-sref="overview.profile({'id': user._id})" style="cursor: pointer;">{{user.name}}</a></b></p>
        <small>{{user.points}} points</small>
    </div>
    <div flex="80">
        <h2>{{request.name}}</h2>

        <p>{{request.description || 'No description!'}}</p>

        <md-divider></md-divider>
        <br />

        <b>Placed on {{request.createdAt | date}} at {{request.createdAt | time}}</b>
        <a href="https://twitter.com/share" class="tweetbutton" data-text="I'm looking for someone to help me out! Check out my request on Edin-Bros!" data-via="EdinBros" data-size="large" data-hashtags="codethecity">Tweet</a>
        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

    </div>

</div>

<h4</h4>

<div ng-if="showChat">
    <h4>Chat</h4>

    <div ng-repeat="message in messages">
        Pietje says: {{message.message}} - {{message.createdAt | ago}}
    </div>

    <form ng-submit="sendMessage(message)">
        <md-input-container flex>
            <label>Send a message</label>
            <input ng-model="message">
        </md-input-container>
    </form>
</div>

<md-button class="md-raised md-primary" ng-click="join()">Join this request!</md-button>
